

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Configuring for MAAS</title>
    
    <link rel="stylesheet" href="_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="config-openstack.html" title="Configuring for OpenStack"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Juju docs - Sphinx Edition 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="section" id="configuring-for-maas">
<h1>Configuring for MAAS</h1>
<p>Metal As A Service is software which allows you to deal with physical
hardware just as easily as virtual nodes. For more information about
MAAS, see <a class="reference external" href="http://maas.ubuntu.com">maas.ubuntu.com</a><span class="link-target"> [http://maas.ubuntu.com]</span></p>
<p>You should start by generating a generic configuration file for Juju,
using the command:</p>
<div class="highlight-python"><pre>juju generate-config</pre>
</div>
<p>This will generate a file, environments.yaml , which will live in your
~/.juju/ directory (and will create the directory if it doesn&#8217;t
already exist).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you have an existing configuration, you can use <tt class="docutils literal"><span class="pre">juju</span>
<span class="pre">generate-config</span> <span class="pre">--show</span></tt> to output the new config file, then copy and
paste relevant areas in a text editor etc.</p>
</div>
<div class="section" id="get-your-api-key">
<h2>Get your API key</h2>
<p>You&#8217;ll need an API key from MAAS so that the Juju client can access
it. Each user account in MAAS can have as many API keys as desired.
One hard and fast rule is that you&#8217;ll need to use a different API key
for each Juju environment you set up within a single MAAS cluster.</p>
<p>To get the API key:</p>
<ol class="arabic simple">
<li>Go to your MAAS preferences page, or go to your MAAS home page and
choose Preferences from the drop-down menu that appears when clicking
your username at the top-right of the page.</li>
<li>Optionally add a new MAAS key. Do this if you&#8217;re setting up another
environment within the same MAAS cluster.</li>
<li>Copy the key value - you will need it shortly!</li>
</ol>
</div>
<div class="section" id="edit-or-create-the-configuration">
<h2>Edit or create the configuration</h2>
<p>Create or modify <tt class="docutils literal"><span class="pre">~/.juju/environments.yaml</span></tt> with the following
content:</p>
<div class="highlight-python"><pre>maas:
  type: maas
  maas-server: 'http://xxyourMAASServernamexx:80/MAAS'
  maas-oauth: '$MAAS_API_KEY'
  admin-secret: 'nothing'
  default-series: 'precise'</pre>
</div>
<p>Substitute the API key from earlier into the <tt class="docutils literal"><span class="pre">$MAAS_API_KEY</span></tt> slot. You
may need to modify the <tt class="docutils literal"><span class="pre">maas-server</span></tt> setting too; if you&#8217;re running
from the maas package it should be something like
&#8220;<a class="reference external" href="http://hostname.xxxx.yyy/MAAS">http://hostname.xxxx.yyy/MAAS</a>&#8221;.</p>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Winael.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>